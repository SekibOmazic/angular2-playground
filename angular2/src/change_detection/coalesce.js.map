{"version":3,"sources":["@traceur/generated/TemplateParser/22","angular2/src/change_detection/coalesce.js","angular2/src/change_detection/@traceur/generated/TemplateParser/8","angular2/src/change_detection/@traceur/generated/TemplateParser/25","angular2/src/change_detection/@traceur/generated/TemplateParser/9","angular2/src/change_detection/@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/30","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/26","angular2/src/change_detection/@traceur/generated/TemplateParser/10"],"names":[],"mappings":"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","file":"angular2/src/change_detection/coalesce.js","sourceRoot":"/Users/jbisa/ksi/devel/angular2/dist/js/dev/es6/","sourcesContent":["System.register($__placeholder__0, function($__export) {\n          $__placeholder__1\n        });","import {isPresent} from 'angular2/src/facade/lang';\nimport {List, ListWrapper, Map, MapWrapper} from 'angular2/src/facade/collection';\nimport {RECORD_TYPE_SELF, ProtoRecord} from './proto_record';\n\n/**\n * Removes \"duplicate\" records. It assuming that record evaluation does not\n * have side-effects.\n *\n * Records that are not last in bindings are removed and all the indices\n * of the records that depend on them are updated.\n *\n * Records that are last in bindings CANNOT be removed, and instead are\n * replaced with very cheap SELF records.\n */\nexport function coalesce(records:List<ProtoRecord>):List<ProtoRecord> {\n  var res = ListWrapper.create();\n  var indexMap = MapWrapper.create();\n\n  for (var i = 0; i < records.length; ++i) {\n    var r = records[i];\n    var record = _replaceIndices(r, res.length + 1, indexMap);\n    var matchingRecord = _findMatching(record, res);\n\n    if (isPresent(matchingRecord) && record.lastInBinding) {\n      ListWrapper.push(res, _selfRecord(record, matchingRecord.selfIndex, res.length + 1));\n      MapWrapper.set(indexMap, r.selfIndex, matchingRecord.selfIndex);\n\n    } else if (isPresent(matchingRecord) && !record.lastInBinding) {\n      MapWrapper.set(indexMap, r.selfIndex, matchingRecord.selfIndex);\n\n    } else {\n      ListWrapper.push(res, record);\n      MapWrapper.set(indexMap, r.selfIndex, record.selfIndex);\n    }\n  }\n\n  return res;\n}\n\nfunction _selfRecord(r:ProtoRecord, contextIndex:number, selfIndex:number):ProtoRecord {\n  return new ProtoRecord(\n    RECORD_TYPE_SELF,\n    \"self\",\n    null,\n    [],\n    r.fixedArgs,\n    contextIndex,\n    selfIndex,\n    r.bindingMemento,\n    r.directiveMemento,\n    r.expressionAsString,\n    r.lastInBinding,\n    r.lastInDirective\n  );\n}\n\nfunction _findMatching(r:ProtoRecord, rs:List<ProtoRecord>){\n  return ListWrapper.find(rs, (rr) =>\n    rr.mode === r.mode &&\n    rr.funcOrValue === r.funcOrValue &&\n    rr.contextIndex === r.contextIndex &&\n    ListWrapper.equals(rr.args, r.args)\n  );\n}\n\nfunction _replaceIndices(r:ProtoRecord, selfIndex:number, indexMap:Map) {\n  var args = ListWrapper.map(r.args, (a) => _map(indexMap, a));\n  var contextIndex = _map(indexMap, r.contextIndex);\n  return new ProtoRecord(\n    r.mode,\n    r.name,\n    r.funcOrValue,\n    args,\n    r.fixedArgs,\n    contextIndex,\n    selfIndex,\n    r.bindingMemento,\n    r.directiveMemento,\n    r.expressionAsString,\n    r.lastInBinding,\n    r.lastInDirective\n  );\n}\n\nfunction _map(indexMap:Map, value:number) {\n  var r = MapWrapper.get(indexMap, value)\n  return isPresent(r) ? r : value;\n}","assert.argumentTypes($__placeholder__0)","assert.genericType($__placeholder__0)","return assert.returnType(($__placeholder__0), $__placeholder__1)","assert.type.$__placeholder__0)","\n        $__export($__placeholder__0, $__placeholder__1)\n      ","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}